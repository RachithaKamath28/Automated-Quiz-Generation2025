module 1 1 chapter graphic system and model perhapsthedominantcharacteristicofthisnewmillenniumishowcomputerand communicationtechnologieshavebecomedominantforcesinourlives.activi- tiesaswide-rangingasfilmmaking , publishing , banking , andeducationcontinueto undergorevolutionarychangesasthesetechnologiesalterthewaysinwhichwecon- ductourdailyactivities.thecombinationofcomputers , network , andthecomplex humanvisualsystem , throughcomputergraphics , hasledtonewwaysofdisplaying information , seeingvirtualworlds , andcommunicatingwithpeopleandmachines .
computergraphicsisconcernedwithallaspectsofproducingpicturesorim- agesusingacomputer.thefieldbeganhumblyalmost50yearsago , withthedisplay ofafewlinesonacathode-raytube ( crt ) ; now , wecancreateimagesbycomputer that are indistinguishable from photograph of real object .
we routinely train pi- lotswithsimulatedairplanes , generatinggraphicaldisplaysofavirtualenvironment inrealtime.feature-lengthmoviesmadeentirelybycomputerhavebeensuccessful , bothcriticallyandfinancially.massivemultiplayergamescaninvolvetensofthou- sandsofconcurrentparticipants .
then we overview graphic system and imaging .
throughout this book , our approach stress the relationship between computer graphic and imageformationbyfamiliarmethods , suchasdrawingbyhandandphotography.we willseethattheserelationshipscanhelpustodesignapplicationprograms , graphic library , andarchitecturesforgraphicssystems .
inthisbook , weintroduceaparticulargraphicssoftwaresystem , opengl , which hasbecomeawidelyacceptedstandardfordevelopinggraphicsapplications.fortu- nately , opengliseasytolearn , anditpossessesmostofthecharacteristicsofother populargraphicssystems.ourapproachistop-down.wewantyoutostartwriting , asquicklyaspossible , applicationprogramsthatwillgenerategraphicaloutput.af- teryoubeginwritingsimpleprograms , wewilldiscusshowtheunderlyinggraphics libraryandthehardwareareimplemented.thischaptershouldgiveasufficientover- viewforyoutoproceedtowritingprograms .
1 2 chapter1 graphicssystemsandmodels 1.1 application of computer graphic thedevelopmentofcomputergraphicshasbeendrivenbothbytheneedsoftheuser communityandbyadvancesinhardwareandsoftware.theapplicationsofcomputer graphicsaremanyandvaried ; wecan , however , dividethemintofourmajorareas : 1. displayofinformation 2. design 3. simulationandanimation 4. userinterfaces althoughmanyapplicationsspantwoormoreoftheseareas , thedevelopmentofthe fieldwasbasedonseparateworkineach .
1.1.1 display of information classicalgraphicstechniquesaroseasamediumtoconveyinformationamongpeo- ple.althoughspokenandwrittenlanguagesserveasimilarpurpose , thehumanvi- sualsystemisunrivaledbothasaprocessorofdataandasapatternrecognizer.more than 4000 year ago , the babylonian displayed floor plan of building on stone .
more than 2000 year ago , the greek were able to convey their architectural idea graphically , even though the related mathematics wa not developed until the re- naissance.today , thesametypeofinformationisgeneratedbyarchitects , mechanical designer , anddraftspeopleusingcomputer-baseddraftingsystems .
forcenturies , cartographershavedevelopedmapstodisplaycelestialandgeo- graphicalinformation.suchmapswerecrucialtonavigatorsasthesepeopleexplored theendsoftheearth ; mapsarenolessimportanttodayinfieldssuchasgeographic informationsystems.now , mapscanbedevelopedandmanipulatedinrealtimeover theinternet .
overthepast150years , workersinthefieldofstatisticshaveexploredtechniques for generating plot that aid the viewer in understanding the information in a set ofdata.now , wehavecomputerplottingpackagesthatprovideavarietyofplotting techniquesandcolortoolsthatcanhandlemultiplelargedatasets.nevertheless , it is still the human ability to recognize visual pattern that ultimately allows u to interprettheinformationcontainedinthedata.thefieldofinformationvisualiza- tionisbecomingincreasinglymoreimportantaswehavetodealwithunderstanding complexphenomenafromproblemsinbioinformaticstodetectingsecuritythreats .
medicalimagingposesinterestingandimportantdata-analysisproblems.mod- ernimagingtechnologiessuchascomputedtomography ( ct ) , magneticresonance imaging ( mri ) , ultrasound , and positron-emission tomography ( pet ) generate three-dimensionaldatathatmustbesubjectedtoalgorithmicmanipulationtopro- videusefulinformation.colorplate20showsanimageofapersonsheadinwhich the skin is displayed a transparent and the internal structure are displayed a opaque .
although the data were collected by a medical imaging system , computer graphicsproducedtheimagethatshowsthestructuralinformation .
1.1 applicationsofcomputergraphics 3 supercomputer now allow researcher in many area to solve previously in- tractableproblems.thefieldofscientificvisualizationprovidesgraphicaltoolsthat helptheseresearchersinterpretthevastquantityofdatathattheygenerate.infields suchasfluidflow , molecularbiology , andmathematics , imagesgeneratedbyconver- sionofdatatogeometricentitiesthatcanbedisplayedhaveyieldednewinsightsinto complexprocesses.forexample , colorplate19showsfluiddynamicsinthemantle oftheearth.thesystemusedamathematicalmodeltogeneratethedata.thefieldof informationvisualizationusescomputergraphicstoaidinthediscoveryofrelation- shipsindatasetsinwhichthereisnophysicaltiebetweenthedataandhowtheyare visualized.wepresentvariousvisualizationtechniquesasexamplesthroughoutthe restofthetext .
1.1.2 design professionssuchasengineeringandarchitectureareconcernedwithdesign.starting withasetofspecifications , engineersandarchitectsseekacost-effectiveandesthetic solutionthatsatisfiesthespecifications.designisaniterativeprocess.rarelyinthe realworldisaproblemspecifiedsuchthatthereisauniqueoptimalsolution.design problemsareeitheroverdetermined , suchthattheypossessnosolutionthatsatisfies all the criterion , much less an optimal solution , or underdetermined , such that they have multiple solution that satisfy the design criterion .
thus , the designer work iteratively .
she generates a possible design , test it , and then us the result a the basisforexploringothersolutions .
thepoweroftheparadigmofhumansinteractingwithimagesonthescreenof acrtwasrecognizedbyivansutherlandmorethan40yearsago.today , theuseof interactivegraphicaltoolsincomputer-aideddesign ( cad ) pervadesfieldsinclud- ingasarchitecture , mechanicalengineering , thedesignofvery-large-scaleintegrated ( vlsi ) circuit , and the creation of character for animation .
in all these applica- tions , the graphic are used in a number of distinct way .
for example , in a vlsi design , thegraphicsprovideaninteractiveinterfacebetweentheuserandthedesign package , usually by mean of such tool a menu and icon .
in addition , after the userproducesapossibledesign , othertoolsanalyzethedesignanddisplaytheanaly- sisgraphically.colorplates9and10showtwoviewsofthesamearchitecturaldesign .
1.1.3 simulation and animation once graphic system evolved to be capable of generating sophisticated image in real time , engineer and researcher began to use them a simulator .
one of the most important us ha been in the training of pilot .
graphical flight simula- torshaveprovedtoincreasesafetyandtoreducetrainingexpenses.theuseofspe- cial vlsi chip ha led to a generation of arcade game a sophisticated a flight simulator .
thesuccessofflightsimulatorsledtotheuseofcomputergraphicsforanima- tion in the television , motion picture , and advertising industry .
entire animated moviescannowbemadebycomputersatacostlessthanthatofmoviesmadewith traditionalhand-animationtechniques.theuseofcomputergraphicswithhandan- imationallowsthecreationoftechnicalandartisticeffectsthatarenotpossiblewith eitheralone.whereascomputeranimationshaveadistinctlook , wecanalsogenerate photorealisticimagesbycomputer.oftenimagesthatweseeontelevision , inmovies , andinmagazinesaresorealisticthatwecannotdistinguishcomputer-generatedor computer-alteredimagesfromphotographs.inchapters6and9 , wediscussmany of the lighting effect used to produce computer animation .
color plate 13 show a scene from a computer-generated video .
the artist and engineer who created thissceneusedcommerciallyavailablesoftware.theplatedemonstratesourability togeneraterealisticenvironments , inthiscaseaweldingrobotinsideafactory.the sparksdemonstratetheuseofproceduralmethodsforspecialeffects.wewilldiscuss thesetechniquesinchapter11.theimagesincolorplate31showanotherexample oftheuseofcomputergraphicstogenerateaneffectthat , althoughitlooksrealistic , couldnothavebeencreatedotherwise.theimagesincolorplates23and24alsoare realisticrenderings .
thefieldofvirtualreality ( vr ) hasopenedmanynewhorizons.ahumanviewer canbeequippedwithadisplayheadsetthatallowshertoseeseparateimageswithher righteyeandherlefteye , whichgivestheeffectofstereoscopicvision.inaddition , herbodylocationandposition , possiblyincludingherheadandfingerpositions , are trackedbythecomputer.shemayhaveotherinteractivedevicesavailable , including force-sensing glove and sound .
she can then act a part of a computer-generated scene , limited only by the image-generation ability of the computer .
for example , a surgical intern might be trained to do an operation in this way , or an astronaut might be trained to work in a weightless environment .
color plate 22 show one frameofavrsimulationofasimulatedpatientusedforremotetrainingofmedical personnel .
thegraphicstodriveinteractivevideogamesmakeheavyuseofbothstandard commodity computer and specialized hardware box .
to a large degree , game drive the development of graphic hardware .
on the commercial side , the revenue from video game ha surpassed the revenue for commercial film .
the graphic technologyforgames , bothintheformofthegraphicsprocessingunitsthatareon graphicscardsinpersonalcomputersandingameboxessuchasthexboxandthe playstation , isbeingusedforsimulationratherthanexpensivespecializedhardware .
color plate 16 is a frame from an interactive game , showing a robot warrior , that us hierarchical method ( chapter 10 ) , procedural method for smoke and fire ( chapter11 ) , andnoisetexturesforlandscapes ( chapter11 ) .theenginethatdrives thegameusesscenegraphsthatwepresentinchapter10 .
1.2 agraphicssystem 5 1.1.4 user interface our interaction with computer ha become dominated by a visual paradigm that includes window , icon , menu , and a pointing device , such a a mouse .
from a user perspective , windowing system such a the x window system , microsoft window , and the macintosh o x differ only in detail .
more recently , million of people have become internet user .
their access is through graphical network browser , suchasfirefoxandinternetexplorer , thatusethesesameinterfacetools .
1.2 a graphic system a computer graphic system is a computer system ; a such , it must have all the componentsofageneral-purposecomputersystem.letusstartwiththehigh-level viewofagraphicssystem , asshownintheblockdiagraminfigure1.1.therearefive majorelementsinoursystem : 1. inputdevices 2. processor 3. memory 4. framebuffer 5. outputdevices thismodelisgeneralenoughtoincludeworkstationsandpersonalcomputers , inter- active game system , and sophisticated image-generation system .
although all the component , withthepossibleexceptionoftheframebuffer , arepresentinastan- dardcomputer , itisthewayeachelementisspecializedforcomputergraphicsthat characterizesthisdiagramasaportraitofagraphicssystem .
1.2.1 pixel and the frame buffer presently , almost all graphic system are raster based .
a picture is produced a an arraythe rasterof picture element , or pixel , within the graphic system .
a we can see from figure 1.2 , each pixel corresponds to a location , or small area , in 1.althoughpersonalcomputersandworkstationsevolvedbysomewhatdifferentpaths , presently , thereisvirtuallynofundamentaldifferencebetweenthem.hence , weusethetermspersonalcom- puterandworkstationsynonymously .
6 chapter1 graphicssystemsandmodels frame processor buffer memory figure1.1 agraphicssystem .
collectively , the pixel are stored in a part of memory called the frame buffer.theframebuffercanbeviewedasthecoreelementofagraphicssystem.its resolutionthe number of pixel in the frame bufferdetermines the detail that youcanseeintheimage.thedepth , orprecision , oftheframebuffer , definedasthe numberofbitsthatareusedforeachpixel , determinespropertiessuchashowmany colorscanberepresentedonagivensystem.forexample , a1-bit-deepframebuffer allows only two color , whereas an 8-bit-deep frame buffer allows 28 ( 256 ) color .
infull-colorsystems , thereare24 ( ormore ) bitsperpixel.suchsystemscandisplay sufficientcolorstorepresentmostimagesrealistically.theyarealsocalledtrue-color system , or rgb-color system , because individual group of bit in each pixel are 1.2 agraphicssystem 7 assigned to each of the three primary colorsred , green , and blueused in most display .
highdynamicrangeapplicationsrequiremorethan24-bitfixedpointcolorrep- resentationsofrgbcolors.somerecentframebuffersstorergbvaluesasfloating- pointnumbersinstandardieeeformat.hence , thetermtruecolor shouldbeinter- pretedasframebuffersthathavesufficientdepthtorepresentcolorsintermsofrgb valuesratherthanasindicesintoalimitedsetofcolors.wewillreturntothistopic inchapter2 .
theframebufferusuallyisimplementedwithspecialtypesofmemorychipsthat enablefastredisplayofthecontentsoftheframebuffer.insoftware-basedsystems , such a those used for high-resolution rendering or for generating complex visual effect that can not be produced in real time , the frame buffer is part of system memory .
inaverysimplesystem , theframebufferholdsonlythecoloredpixelsthatare displayedonthescreen.inmostsystems , theframebufferholdsfarmoreinforma- tion , suchasdepthinformationneededforcreatingimagesfromthree-dimensional data.inthesesystems , theframebuffercomprisesmultiplebuffers , oneormoreof whicharecolorbuffersthatholdthecoloredpixelsthataredisplayed.fornow , we canusethetermsframebufferandcolorbuffersynonymouslywithoutconfusion .
inasimplesystem , theremaybeonlyoneprocessor , thecentralprocessingunit ( cpu ) ofthesystem , whichmustdoboththenormalprocessingandthegraphical processing.themaingraphicalfunctionoftheprocessoristotakespecificationsof graphical primitive ( such a line , circle , and polygon ) generated by application program and to assign value to the pixel in the frame buffer that best represent theseentities.forexample , atriangleisspecifiedbyitsthreevertices , buttodisplay it outline by the three line segment connecting the vertex , the graphic system mustgenerateasetofpixelsthatappearaslinesegmentstotheviewer.theconver- sionofgeometricentitiestopixelcolorsandlocationsintheframebufferisknown asrasterization , orscanconversion.inearlygraphicssystems , theframebufferwas partofthestandardmemorythatcouldbedirectlyaddressedbythecpu.today , vir- tuallyallgraphicssystemsarecharacterizedbyspecial-purposegraphicsprocessing unit ( gpus ) , custom-tailoredtocarryoutspecificgraphicsfunctions.thegpucan beeitheronthemotherboardofthesystemoronagraphicscard.theframebuffer isaccessedthroughthegraphicsprocessingunitandmaybeincludedinthegpu .
1.2.2 output device for many year , the dominant type of display ( or monitor ) ha been the cathode- ray tube ( crt ) .
although various flat-panel technology are now more popular , the basic functioning of the crt ha much in common with these newer display .
a simplified picture of a crt is shown in figure 1.3. when electron strike the phosphorcoatingonthetube , lightisemitted.thedirectionofthebeamiscontrolled bytwopairsofdeflectionplates.theoutputofthecomputerisconverted , bydigital- to-analogconverters , tovoltagesacrossthex andy deflectionplates.lightappears 8 chapter1 graphicssystemsandmodels y deflect electron gun x deflect phosphor focus figure1.3 thecathode-raytube ( crt ) .
ifthevoltagessteeringthebeamchangeataconstantrate , thebeamwilltrace a straight line , visible to a viewer .
such a device is known a the random-scan , calligraphic , or vector crt , because the beam can be moved directly from any positiontoanyotherposition.iftheintensityofthebeamisturnedoff , thebeamcan bemovedtoanewpositionwithoutchanginganyvisibledisplay.thisconfiguration wasthebasisofearlygraphicssystemsthatpredatedthepresentrastertechnology .
atypicalcrtwillemitlightforonlyashorttimeusually , afewmilliseconds after the phosphor is excited by the electron beam .
for a human to see a steady , flicker-free image on most crt display , the same path must be retraced , or re- freshed , by the beam at a sufficiently high rate , the refreshrate .
in older system , therefreshrateisdeterminedbythefrequencyofthepowersystem,60cyclespersec- ondor60hertz ( hz ) intheunitedstatesand50hzinmuchoftherestoftheworld .
in a raster system , the graphic system take pixel from the frame buffer and displaysthemaspointsonthesurfaceofthedisplayinoneoftwofundamentalways .
in a noninterlaced or progressive display , the pixel are displayed row by row , or scanlinebyscanline , attherefreshrate.inaninterlaceddisplay , oddrowsandeven rowsarerefreshedalternately.interlaceddisplaysareusedincommercialtelevision .
inaninterlaceddisplayoperatingat60hz , thescreenisredrawninitsentiretyonly 30timespersecond , althoughthevisualsystemistrickedintothinkingtherefresh rateis60hzratherthan30hz.viewerslocatednearthescreen , however , cantellthe differencebetweentheinterlacedandnoninterlaceddisplays.noninterlaceddisplays arebecomingmorewidespread , eventhoughthesedisplaysprocesspixelsattwicethe rateofinterlaceddisplays .
color crt have three different colored phosphor ( red , green , and blue ) , ar- ranged in small group .
one common style arranges the phosphor in triangular groupscalledtriads , eachtriadconsistingofthreephosphors , oneofeachprimary .
1.2 agraphicssystem 9 blue gun triad green red green gun blue red gun shadow mask figure1.4 shadow-maskcrt .
vertical grid light emitting element horizontal grid figure1.5 genericflat-paneldisplay .
although crt are still the most common display device , they are rapidly be- ing replaced by flat-screen technology .
flat-panel monitor are inherently raster .
although there are multiple technology available , including light-emitting diode ( led ) , liquid-crystaldisplays ( lcd ) , andplasmapanels , alluseatwo-dimensional grid to address individual light-emitting element .
figure 1.5 show a generic flat- panelmonitor.thetwooutsideplatescontainparallelgridsofwiresthatareoriented perpendiculartoeachother.bysendingelectricalsignalstotheproperwireineach grid , theelectricalfieldatalocation , determinedbytheintersectionoftwowires , can be made strong enough to control the corresponding element in the middle plate .
themiddleplateinanledpanelcontainslight-emittingdiodesthatcanbeturned onandoffbytheelectricalsignalssenttothegrid.inanlcddisplay , theelectrical fieldcontrolsthepolarizationoftheliquidcrystalsinthemiddlepanel , thusturning onandoffthelightpassingthroughthepanel.aplasmapanelusesthevoltageson thegridstoenergizegasesembeddedbetweentheglasspanelsholdingthegrids.the energizedgasbecomesaglowingplasma .
10 chapter1 graphicssystemsandmodels most projection system are also raster device .
these system use a variety of technology , includingcrtsanddigitallightprojection ( dlp ) .fromauserperspec- tive , theyactasstandardmonitorswithsimilarresolutionsandprecisions.hard-copy device , suchasprintersandplotters , arealsorasterbasedbutcannotberefreshed .
until recently , most display had a 4:3 width to height ratio ( or aspectratio ) thatcorrespondedstocommercialtelevision.indiscreteterms , displaysstartedwith vgaresolutionof640480pixels , whichwasconsistentwiththenumberoflines displayedinstandardntscvideo.2computerdisplaysmoveduptothepopularres- olutionsof1024768 ( xga ) and12801024 ( sxga ) .thenewerhighdefinition television ( hdtv ) standardusesa16:9aspectratio , whichisbetweentheoldertele- visionaspectratioandthatofmovies.hdtvmonitorsdisplay780or1080linesin eitherprogressive ( 1080p,780p ) orinterlaced ( 1080i,780i ) modes.hence , themost popularcomputerdisplayresolutionsarenow19201080and1280720 , which havethehdtvaspectratio , and19201024and1280768 , whichhavetheverti- calresolutionofxgaandsxgadisplays.atthehighend , therearenow4k ( 4096 2160 ) digitalprojectorsthataresuitableforcommercialdigitalmovies .
1.2.3 input device mostgraphicssystemsprovideakeyboardandatleastoneotherinputdevice.the most common input device are the mouse , the joystick , and the data tablet .
each providespositionalinformationtothesystem , andeachusuallyisequippedwithone ormorebuttonstoprovidesignalstotheprocessor.oftencalledpointingdevices , thesedevicesallowausertoindicateaparticularlocationonthedisplay.westudy thesedevicesinchapter3 .
a typical console might have multiple button , a joystick , anddials.devicessuchasthenintendowiiarewirelessandcansenseaccelerations inthreedimensions .
game , cad , and virtual reality application have all generated the need for inputdevicesthatprovidemorethantwo-dimensionaldata.three-dimensionallo- cationsonareal-worldobjectcanbeobtainedbyavarietyofdevices , includinglaser rangefindersandacousticsensors.higher-dimensionaldatacanbeobtainedbyde- vicessuchasdatagloves , whichincludemanysensors , andcomputervisionsystems .
1.3 image : physical and synthetic the traditional pedagogical approach to teaching computer graphic ha been fo- cused on how to construct raster image of simple two-dimensional geometric en- tities ( for example , point , line segment , and polygon ) in the frame buffer .
next , most textbook discussed how to define two- and three-dimensional mathematical 2.outsidetheunitedstates , thepalandsecamsystemsdisplaymorelinesbutusealowerframe rate .
1.3 image : physicalandsynthetic 11 objectsinthecomputerandimagethemwiththesetoftwo-dimensionalrasterized primitive .
thisapproachworkedwellforcreatingsimpleimagesofsimpleobjects.inmod- ernsystems , however , wewanttoexploitthecapabilitiesofthesoftwareandhardware to create realistic image of computer-generated three-dimensional objectsa task thatinvolvesmanyaspectsofimageformation , suchaslighting , shading , andprop- ertiesofmaterials.becausesuchfunctionalityissupporteddirectlybymostpresent computergraphicssystems , weprefertosetthestageforcreatingtheseimageshere , ratherthantoexpandalimitedmodellater .
computer-generatedimagesaresyntheticorartificial , inthesensethattheob- jects being imaged may not exist physically .
in this chapter , we argue that the pre- ferredmethodtoformcomputer-generatedimagesissimilartotraditionalimaging method , such a camera and the human visual system .
hence , before we discus themechanicsofwritingprogramstogenerateimages , wediscussthewayimagesare formedbyopticalsystems.weconstructamodeloftheimage-formationprocessthat wecanthenusetounderstandanddevelopcomputer-generatedimagingsystems .
in this chapter , we make minimal use of mathematics .
we want to establish a paradigmforcreatingimagesandtopresentacomputerarchitectureforimplement- ingthatparadigm.detailsarepresentedinsubsequentchapters , wherewewillderive therelevantequations .
1.3.1 object and viewer weliveinaworldofthree-dimensionalobjects.thedevelopmentofmanybranches of mathematics , including geometry and trigonometry , wa in response to the de- siretosystematizeconceptuallysimpleideas , suchasthemeasurementofthesizeof objectsandthedistancebetweenobjects.oftenweseektorepresentourunderstand- ing of such spatial relationship with picture or image , such a map , painting , and photograph .
likewise , the development of many physical devicesincluding camera , microscope , andtelescopeswastiedtothedesiretovisualizespatialre- lationshipsamongobjects.hence , therealwayshasbeenafundamentallinkbetween thephysicsandthemathematicsofimageformationonethatwecanexploitinour developmentofcomputerimageformation .
two basic entity must be part of any image-formation process , be it mathe- maticalorphysical : object andviewer.theobjectexistsinspaceindependentofany image-formation process and of any viewer .
in computer graphic , where we deal withsyntheticobjects , weformobjectsbyspecifyingthepositionsinspaceofvarious geometricprimitives , suchaspoints , line , andpolygons.inmostgraphicssystems , asetoflocationsinspace , orofvertices , issufficienttodefine , orapproximate , most objects.forexample , alinecanbespecifiedbytwovertices ; apolygoncanbespecified byanorderedlistofvertices ; andaspherecanbespecifiedbytwoverticesthatgiveits centerandanypointonitscircumference.oneofthemainfunctionsofacadsys- temistoprovideaninterfacethatmakesiteasyforausertobuildasyntheticmodel oftheworld.inchapter2 , weshowhowopenglallowsustobuildsimpleobjects ; inchapter11 , welearntodefineobjectsinamannerthatincorporatesrelationships amongobjects .
12 chapter1 graphicssystemsandmodels c b ( a ) ( b ) ( c ) figure1.6 imageseenbythreedifferentviewers . ( a ) asview .
inthehumanvisualsystem , theimageisformedonthebackoftheeye.inacamera , the image is formed in the film plane .
it is easy to confuse image and object .
we usuallyseeanobjectfromoursingleperspectiveandforgetthatotherviewers , located inotherplaces , willseethesameobjectdifferently.figure1.6 ( a ) showstwoviewers observingthesamebuilding.thisimageiswhatisseenbyanobserverawhoisfar enoughawayfromthebuildingtoseeboththebuildingandthetwootherviewers , bandc.fromasperspective , bandcappearasobjects , justasthebuildingdoes .
figure1.7showsacamerasystemviewingabuilding.herewecanobservethat both the object and the viewer exist in a three-dimensional world .
however , the image that they definewhat we find on the film planeis two dimensional .
the processbywhichthespecificationoftheobjectiscombinedwiththespecificationof the viewer to produce a two-dimensional image is the essence of image formation , andwewillstudyitindetail .
1.3.2 light and image theprecedingdescriptionofimageformationisfarfromcomplete.forexample , we haveyettomentionlight.iftherewerenolightsources , theobjectswouldbedark , andtherewouldbenothingvisibleinourimage.norhaveweindicatedhowcolor entersthepictureorwhattheeffectsofthesurfacepropertiesoftheobjectsare .
takingamorephysicalapproach , wecanstartwiththearrangementshownin figure1.8 , whichshowsasimplephysicalimagingsystem.again , weseeaphysical objectandaviewer ( thecamera ) ; now , however , thereisalightsourceinthescene .
light from the source strike various surface of the object , and a portion of the reflected light enters the camera through the lens .
the detail of the interaction between light and the surface of the object determine how much light enters the camera .
1.3 image : physicalandsynthetic 13 figure1.8 acamerasystemwithanobjectandalightsource .
x ray light radio ( cid:2 ) ( nm ) blue green red 350 ( cid:2 ) ( nm ) 780 figure1.9 theelectromagneticspectrum .
lightisaformofelectromagneticradiation.electromagneticenergytravelsas wavesthatcanbecharacterizedbyeithertheirwavelengthsortheirfrequencies.3the electromagnetic spectrum ( figure 1.9 ) includes radio wave , infrared ( heat ) , and a portionthatcausesaresponseinourvisualsystems.thisvisiblespectrum , which haswavelengthsintherangeof350to780nanometers ( nm ) , iscalled ( visible ) light .
a given light source ha a color determined by the energy that it emits at various wavelength .
wavelength in the middle of the range , around 520 nm , are seen a green ; thosenear450nmareseenasblue ; andthosenear650nmareseenasred.just aswitharainbow , lightatwavelengthsbetweenredandgreenweseeasyellow , and wavelengthsshorterthanbluegeneratevioletlight .
14 chapter1 graphicssystemsandmodels emitsenergyoverarangeoffrequencies.fortunately , incomputergraphics , except forrecognizingthatdistinctfrequenciesarevisibleasdistinctcolors , werarelyneed todealwiththephysicalpropertiesoflight , suchasitswavenature .
instead , wecanfollowamoretraditionalpaththatiscorrectwhenweareoperat- ingwithsufficientlyhighlightlevelsandatascalewherethewavenatureoflightisnot asignificantfactor.geometricopticsmodelslightsourcesasemittersoflightenergy , eachofwhichhaveafixedintensity.modeledgeometrically , lighttravelsinstraight line , fromthesourcestothoseobjectswithwhichitinteracts.anidealpointsource emitsenergyfromasinglelocationatoneormorefrequenciesequallyinalldirec- tions.morecomplexsources , suchasalightbulb , canbecharacterizedasemitting lightoveranareaandbyemittingmorelightinonedirectionthananother.apartic- ularsourceischaracterizedbytheintensityoflightthatitemitsateachfrequencyand bythatlightsdirectionality.weconsideronlypointsourcesfornow.morecomplex source often can be approximated by a number of carefully placed point source .
1.3.3 image formation model there are multiple approach to how we can form image from a set of object , thelight-reflectingpropertiesoftheseobjects , andthepropertiesofthelightsources inthescene.inthissection , weintroducetwophysicalapproaches.althoughthese approachesarenotsuitableforthereal-timegraphicsthatweultimatelywant , they willgiveusinsightintohowwecanbuildausefulimagingarchitecture .
wecanstartbuildinganimagingmodelbyfollowinglightfromasource.con- siderthesceneillustratedinfigure1.10 ; itisilluminatedbyasinglepointsource.we includetheviewerinthefigurebecauseweareinterestedinthelightthatreachesher eye.theviewercanalsobeacamera , asshowninfigure1.11.arayisasemi-infinite linethatemanatesfromapointandtravelstoinfinityinaparticulardirection.be- causelighttravelsinstraightlines , wecanthinkintermsofraysoflightemanatingin alldirectionsfromourpointsource.aportionoftheseinfiniterayscontributestothe figure1.10 scenewithasinglepointlightsource .
1.3 image : physicalandsynthetic 15 b c d a figure 1.11 ray interaction .
ray a enters camera directly .
imageonthefilmplaneofourcamera.forexample , ifthesourceisvisiblefromthe camera , someoftheraysgodirectlyfromthesourcethroughthelensofthecamera , andstrikethefilmplane.mostrays , however , goofftoinfinity , neitherenteringthe cameradirectlynorstrikinganyoftheobjects.theserayscontributenothingtothe image , althoughtheymaybeseenbysomeotherviewer.theremainingraysstrike and illuminate object .
these ray can interact with the object surface in a vari- etyofways.forexample , ifthesurfaceisamirror , areflectedraymightdepending ontheorientationofthesurfaceenterthelensofthecameraandcontributetothe image.othersurfacesscatterlightinalldirections.ifthesurfaceistransparent , the light ray from the source can pas through it and may interact with other object , enterthecamera , ortraveltoinfinitywithoutstrikinganothersurface.4figure1.11 showssomeofthepossibilities .
other physical approach to image formation are based on conservation of energy.themostimportantincomputergraphicsisradiosity.thismethodworks 4.thismodelofimageformationwasusedbyleonardodavinci500yearsago .
16 chapter1 graphicssystemsandmodels bestforsurfacesthatscattertheincominglightequallyinalldirections.eveninthis case , radiosityrequiresmorecomputationthancanbedoneinrealtime .
giventhetimeconstraintsinimageformationbyreal-timegraphics , weusually aresatisfiedwithimagesthatlookreasonableratherthanimagesthatarephysically correct.suchisnotthecasewithimagesthatarenonreal-time , suchasthosegen- eratedforafeaturefilm , whichcanusehoursofcomputertimeforeachframe.with theincreasedspeedofpresenthardware , wecangetclosertophysicallycorrectimages inreal-timesystems.consequently , wewillreturntotheseapproachesinchapter13 .
1.4 imaging system wenowintroducetwophysicalimagingsystems : thepinholecameraandthehuman visualsystem.thepinholecameraisasimpleexampleofanimagingsystemthatwill enableustounderstandthefunctioningofcamerasandofotheropticalimagers.we emulateittobuildamodelofimageformation.thehumanvisualsystemisextremely complexbutstillobeysthephysicalprinciplesofotheropticalimagingsystems.we introduce it not only a an example of an imaging system but also because under- standing it property will help u to exploit the capability of computer-graphics system .
1.4.1 the pinhole camera thepinholecamerashowninfigure1.12providesanexampleofimageformation thatwecanunderstandwithasimplegeometricmodel.apinholecameraisabox withasmallholeinthecenterofonesideofthebox ; thefilmisplacedinsidethebox onthesideoppositethepinhole.initially , thepinholeiscovered.itisuncoveredfor ashorttimetoexposethefilm.supposethatweorientourcameraalongthez-axis , withthepinholeattheoriginofourcoordinatesystem.weassumethattheholeis sosmallthatonlyasinglerayoflight , emanatingfromapoint , canenterit.thefilm planeislocatedadistancedfromthepinhole.asideview ( figure1.13 ) allowsusto y x ( x , y , z ) z ( x , y , z ) p p p d figure1.12 pinholecamera .
1.4 imagingsystems 17 y ( y , z ) z ( y , ( cid:3 ) d ) p d figure1.13 sideviewofpinholecamera .
calculatewheretheimageofthepoint ( x , y , z ) isonthefilmplane zd.using the fact that the two triangle shown in figure 1.13 are similar , we find that the y coordinateoftheimageisaty , where p y y .
p zd asimilarcalculation , usingatopview , yield x x .
p zd the point ( x , y , d ) is called the projection of the point ( x , y , z ) .
note that all p p pointsalongthelinebetween ( x , y , z ) and ( x , y , d ) projectto ( x , y , d ) sothat p p p p wecannotgobackwardfromapointintheimageplanetothepointthatproduced it.inouridealizedmodel , thecoloronthefilmplaneatthispointwillbethecolorof thepoint ( x , y , z ) .thefield , orangle , ofviewofourcameraistheanglemadebythe largestobjectthatourcameracanimageonitsfilmplane.wecancalculatethefield ofviewwiththeaidoffigure1.14.5ifhistheheightofthecamera , thentheangleof view is 2tan 1 h .
2d theidealpinholecamerahasaninfinitedepthoffield : everypointwithinitsfield ofviewisinfocus , regardlessofhowfaritisfromthecamera.theimageofapoint isapoint.thepinholecamerahastwodisadvantages.first , becausethepinholeis sosmallitadmitsonlyasinglerayfromapointsourcealmostnolightentersthe camera.second , thecameracannotbeadjustedtohaveadifferentangleofview .
18 chapter1 graphicssystemsandmodels y ( cid:4 ) h z d figure1.14 angleofview .
the larger the aperture of the lens , the more light the lens can collect .
for our purpose , in this chapter , we can work with a pinhole camera whose cornea retina focallengthisthedistancedfromthefrontofthecameratothefilmplane.likethe pinholecamera , computergraphicsproducesimagesinwhichallobjectsareinfocus .
lens iris rod and cone 1.4.2 the human visual system ourextremelycomplexvisualsystemhasallthecomponentsofaphysicalimaging optic nerve system , such a a camera or a microscope .
the major component of the visual figure 1.15 the human systemareshowninfigure1.15.lightenterstheeyethroughthelensandcornea , visualsystem .
atransparentstructurethatprotectstheeye.theirisopensandclosestoadjustthe amount of light entering the eye .
the lens form an image on a two-dimensional structure called the retina at the back of the eye .
the rod and cone ( so named because of their appearance when magnified ) are light sensor and are located on theretina.theyareexcitedbyelectromagneticenergyintherangeof350to780nm .
therodsarelow-level-lightsensorsthataccountforournightvisionandarenot colorsensitive ; theconesareresponsibleforourcolorvision.thesizesoftherods andcones , coupledwiththeopticalpropertiesofthelensandcornea , determinethe resolutionofourvisualsystems , orourvisualacuity.resolutionisameasureofwhat sizeobjectswecansee.moretechnically , itisameasureofhowclosewecanplacetwo pointsandstillrecognizethattherearetwodistinctpoints .
thesensorsinthehumaneyedonotreactuniformlytolightenergyatdifferent wavelengths.therearethreetypesofconesandasingletypeofrod.whereasintensity is a physical measure of light energy , brightness is a measure of how intense we 1.5 thesynthetic-cameramodel 19 perceivethelightemittedfromanobjecttobe.thehumanvisualsystemdoesnot have the same response to a monochromatic ( single-frequency ) red light a to a monochromatic green light .
if these two light were to emit the same energy , they would appear to u to have different brightness , because of the unequal response of the cone to red and green light .
we are most sensitive to green light , and least sensitivetoredandblue .
brightnessisanoverallmeasureofhowwereacttotheintensityoflight.human color-vision capability are due to the different sensitivity of the three type of cones.themajorconsequenceofhavingthreetypesofconesisthatinsteadofhaving toworkwithallvisiblewavelengthsindividually , wecanusethreestandardprimaries toapproximateanycolorthatwecanperceive.consequently , mostimage-production system , includingfilmandvideo , workwithjustthreebasic , orprimary , colors.we discusscolorindepthinchapter2 .
theinitialprocessingoflightinthehumanvisualsystemisbasedonthesame principle used by most optical system .
however , the human visual system ha a back end much more complex than that of a camera or telescope .
the optic nerve is connected to the rod and cone in an extremely complex arrangement that ha manyofthecharacteristicsofasophisticatedsignalprocessor.thefinalprocessing is done in a part of the brain called the visual cortex , where high-level function , suchasobjectrecognition , arecarriedout.wewillomitanydiscussionofhigh-level processing ; instead , wecanthinksimplyintermsofanimagethatisconveyedfrom therodsandconestothebrain .
1.5 the synthetic-camera model our model of optical imaging system lead directly to the conceptual foundation formodernthree-dimensionalcomputergraphics.welookatcreatingacomputer- generatedimageasbeingsimilartoforminganimageusinganopticalsystem.this paradigmhasbecomeknownasthesynthetic-cameramodel.considertheimaging system shown in figure 1.16. again we see object and a viewer .
in this case , the viewer is a bellow camera.6 the image is formed on the film plane at the back of thecamera.sothatwecanemulatethisprocesstocreateartificialimages , weneedto identifyafewbasicprinciples .
first , the specification of the object is independent of the specification of the viewer.hence , weshouldexpectthat , withinagraphicslibrary , therewillbeseparate functionsforspecifyingtheobjectsandtheviewer .
6. in a bellow camera , the front of the camera , where the lens is located , and the back of the camera , thefilmplane , areconnectedbyflexiblesides.thus , wecanmovethebackofthecamera independentlyofthefrontofthecamera , introducingadditionalflexibilityintheimage-formation process.weusethisflexibilityinchapter5 .
20 chapter1 graphicssystemsandmodels figure1.16 imagingsystem .
y y camera ( y , z ) ( y , z ) projector ( y p , d ) object z z cop ( y , ( cid:3 ) d ) p ( a ) ( b ) figure1.17 equivalentviewsofimageformation .
note that the image of the object is flipped relative to the object .
whereas with a real camera , we would simply flip the film to regain the original orientation of the object , withoursyntheticcamerawecanavoidtheflippingbyasimpletrick.wedraw anotherplaneinfrontofthelens ( figure1.17 ( b ) ) , andworkinthreedimensions , a showninfigure1.18.wefindtheimageofapointontheobjectonthevirtualimage planebydrawingaline , calledaprojector , fromthepointtothecenterofthelens , or thecenterofprojection ( cop ) .notethatallprojectorsareraysemanatingfromthe centerofprojection.inoursyntheticcamera , thevirtualimageplanethatwehave movedinfrontofthelensiscalledtheprojectionplane.theimageofthepointis located where the projector pass through the projection plane .
in chapter 5 , we discussthisprocessindetailandderivetherelevantmathematicalformulas .
wemustalsoconsiderthelimitedsizeoftheimage.aswesaw , notallobjects canbeimagedontothepinholecamerasfilmplane.theangleofviewexpressesthis limitation.inthesyntheticcamera , wecanmovethislimitationtothefrontbyplac- ingaclippingrectangle , orclippingwindow , intheprojectionplane ( figure1.19 ) .
thisrectangleactsasawindow , throughwhichaviewer , locatedatthecenterofpro- jection , see the world .
given the location of the center of projection , the location 1.6 theprogrammersinterface 21 figure1.18 imagingwiththesyntheticcamera .
1.6 the programmer interface there are numerous way that a user can interact with a graphic system .
with completelyself-containedpackages , suchastheonesusedinthecadcommunity , a userdevelopsimagesthroughinteractionswiththedisplayusinginputdevices , such a a mouse and a keyboard .
in a typical application , such a the painting program showninfigure1.20 , theuserseesmenusandiconsthatrepresentpossibleactions .
22 chapter1 graphicssystemsandmodels figure1.20 interfaceforapaintingprogram .
keyboard graphic application library driver mouse program ( api ) display figure1.21 applicationprogrammersmodelofgraphicssystem .
of course , someone ha to develop the code for these application , and many ofus , despitethesophisticationofcommercialproducts , stillhavetowriteourown graphicsapplicationprograms ( andevenenjoydoingso ) .
the interface between an application program and a graphic system can be specified through a set of function that resides in a graphic library .
these speci- ficationsarecalledtheapplicationprogrammersinterface ( api ) .theapplication programmersmodelofthesystemisshowninfigure1.21.theapplicationprogram- merseesonlytheapiandisthusshieldedfromthedetailsofboththehardwareand thesoftwareimplementationofthegraphicslibrary.thesoftwaredriversarerespon- sibleforinterpretingtheoutputoftheapiandconvertingthesedatatoaformthat is understood by the particular hardware .
from the perspective of the writer of an 1.6 theprogrammersinterface 23 applicationprogram , thefunctionsavailablethroughtheapishouldmatchthecon- ceptualmodelthattheuserwishestoemploytospecifyimages.7 1.6.1 the pen-plotter model historically , mostearlygraphicssystemsweretwo-dimensionalsystems.theconcep- tualmodelthattheyusedisnowreferredtoasthepen-plottermodel , referencingthe outputdevicethatwasavailableonthesesystems.apenplotter ( figure1.22 ) pro- figure1.22 penplotter .
ducesimagesbymovingapenheldbyagantry , astructurethatcanmovethepenin twoorthogonaldirectionsacrossthepaper.theplottercanraiseandlowerthepenas requiredtocreatethedesiredimage.penplottersarestillinuse ; theyarewellsuited for drawing large diagram , such a blueprint .
various apissuch a logo and postscripthavetheiroriginsinthismodel.althoughtheydifferfromoneanother , theyhaveacommonviewoftheprocessofcreatinganimageasbeingsimilartothe processofdrawingonapadofpaper.theuserworksonatwo-dimensionalsurface ofsomesize.shemovesapenaroundonthissurface , leavinganimageonthepaper .
wecandescribesuchagraphicssystemwiththefollowingdrawingfunctions : moveto ( x , y ) lineto ( x , y ) executionofthemovetofunctionmovesthepentothelocation ( x , y ) onthepaper withoutleavingamark.thelinetofunctionmovesthepento ( x , y ) anddrawsa line from the old to the new location of the pen .
once we add a few initialization andterminationprocedures , aswellastheabilitytochangepenstoalterthedrawing colororlinethickness , wehaveasimplebutcompletegraphicssystem.hereisa fragmentofasimpleprograminsuchasystem : moveto ( 0 , 0 ) ; lineto ( 1 , 0 ) ; lineto ( 1 , 1 ) ; lineto ( 0 , 1 ) ; lineto ( 0,0 ) ; thisfragmentwouldgeneratetheoutputshowninfigure1.23 ( a ) .ifweaddedthe code moveto ( 0 , 1 ) ; lineto ( 0.5 , 1.866 ) ; lineto ( 1.5 , 1.866 ) ; lineto ( 1.5 , 0.866 ) ; 7.theremaybeoneormoreadditionallayersbetweentheapiandthedriver , suchasavirtual machineorhardwareabstractionlayer.however , becausetheapplicationprogrammerseesonlythe api , shedoesnotneedtoknowthislevelofdetail .
24 chapter1 graphicssystemsandmodels lineto ( 1 , 0 ) ; moveto ( 1 , 1 ) ; lineto ( 1,5,1.866 ) ; we would have the image of a cube formed by an oblique projection , a shown in figure1.23 ( b ) .
( a ) for certain application , such a page layout in the printing industry , system builtonthismodelworkwell.forexample , thepostscriptpage-descriptionlanguage , asophisticatedextensionoftheseideas , isastandardforcontrollingtypesettersand printer .
an alternate raster-based , but still limiting , two-dimensional model relies on writingpixelsdirectlyintoaframebuffer.suchasystemcouldbebasedonasingle functionoftheform writepixel ( x , y , color ) ( b ) wherex , yisthelocationofthepixelintheframebufferandcolorgivesthecolor figure1.23 outputofpen- tobewrittenthere.suchmodelsarewellsuitedtowritingthealgorithmsforrasteri- plotter program for ( a ) a zationandprocessingofdigitalimages .
square , and ( b ) a projection we are much more interested , however , in the three-dimensional world .
pen-plottermodeldoesnotextendwelltothree-dimensionalgraphicssystems.for example , if we wish to use the pen-plotter model to produce the image of a three- dimensionalobjectonourtwo-dimensionalpad , eitherbyhandorbycomputer , then wehavetofigureoutwhereonthepagetoplacetwo-dimensionalpointscorrespond- ing to point on our three-dimensional object .
these two-dimensional point are , aswesawinsection1.5 , theprojectionsofpointsinthree-dimensionalspace.the mathematicalprocessofdeterminingprojectionsisanapplicationoftrigonometry .
we develop the mathematics of projection in chapter 5 ; understanding projection is crucial to understanding three-dimensional graphic .
we prefer , however , to use anapithatallowsuserstoworkdirectlyinthedomainoftheirproblemsandtouse computerstocarryoutthedetailsoftheprojectionprocessautomatically , withoutthe usershavingtomakeanytrigonometriccalculationswithintheapplicationprogram .
thatapproachshouldbeaboontouserswhohavedifficultylearningtodrawvarious projectionsonadraftingboardorsketchingobjectsinperspective.moreimportant , userscanrelyonhardwareandsoftwareimplementationsofprojectionswithinthe implementationoftheapithatarefarmoreefficientthananypossibleimplementa- tionofprojectionswithintheirprogramswouldbe .
1.6.2 three-dimensional apis thesynthetic-cameramodelisthebasisforallthepopularapis , includingopengl , direct3d , andopenscenegraph.ifwearetofollowthesynthetic-cameramodel , we needfunctionsintheapitospecifythefollowing : object aviewer 1.6 theprogrammersinterface 25 lightsources y materialproperties object are usually defined by set of vertex .
for simple geometric object b such a line segment , rectangle , and polygonsthere is a simple relationship be- tween a list of vertex , or position in space , and the object .
for more complex object , theremaybemultiplewaysofdefiningtheobjectfromasetofvertices.acir- cle , forexample , canbedefinedbythreepointsonitscircumference , orbyitscenter andonepointonthecircumference .
a mostapisprovidesimilarsetsofprimitiveobjectsfortheuser.theseprimitives x are usually those that can be displayed rapidly on the hardware .
the usual set in- cludepoints , linesegments , polygon , andsometimestext.openglprogramsdefine c primitive through list of vertex .
the following opengl code fragment specifies z thetriangularpolygonshowninfigure1.24throughfivefunctioncalls : figure1.24 atriangle .
glbegin ( glpolygon ) ; glvertex3f ( 0.0 , 0.0 , 0.0 ) ; vertex a glvertex3f ( 0.0 , 1.0 , 0.0 ) ; vertex b glvertex3f ( 0.0 , 0.0 , 1.0 ) ; vertex c glend ( ) ; thefunctionglbeginspecifiesthetypeofprimitivethattheverticesdefine.each subsequentexecutionofglvertex3fspecifiesthex , y , z coordinatesofalocation inspace.thefunctionglendendsthelistofvertices.notethatbyaddingadditional vertex , we can define an arbitrary polygon .
if we change the type parameter , gl polygon , we can use the same vertex to define a different geometric primitive .
for example , the type gllinestrip us the vertex to define two connected line segment , whereas the type glpoints us the same vertex to define three w point .
cop someapislettheuserworkdirectlyintheframebufferbyprovidingfunctions that read and write pixel .
some apis provide curve and surface a primitive ; h often , however , thesetypesareapproximatedbyaseriesofsimplerprimitiveswithin the application program .
opengl provides access to the frame buffer , curve , and surface .
wecanspecifyaviewerorcamerainavarietyofways.availableapisdifferin how much flexibility they provide in camera selection and in how many different methodstheyallow.ifwelookatthecamerashowninfigure1.25 , wecanidentify figure1.25 camera fourtypesofnecessaryspecifications : specification .
2. orientation once we have positioned the camera , we can place a camera coordinate system with it origin at the center of projection .
26 chapter1 graphicssystemsandmodels 4. filmplane thebackofthecamerahasaheightandawidth.onthebellows camera , andinsomeapis , theorientationofthebackofthecameracanbe adjustedindependentlyoftheorientationofthelens .
these specification can be satisfied in various way .
one way to develop the specification for the camera location and orientation us a series of coordinate- systemtransformations.thesetransformationsconvertobjectpositionsrepresented inacoordinatesystemthatspecifiesobjectverticestoobjectpositionsinacoordinate systemcenteredatthecop.thisapproachisuseful , bothforimplementingandfor gettingthefullsetofviewsthataflexiblecameracanprovide.weusethisapproach extensively , startinginchapter5 .
havingmanyparameterstoadjust , however , canalsomakeitdifficulttogeta desired image .
part of the problem lie with the synthetic-camera model .
classical viewing technique , such a the one used in architecture , stress the relationship betweentheobjectandtheviewer , ratherthantheindependence thatthesynthetic- cameramodelemphasizes.thus , theclassicaltwo-pointperspectiveofacubeshown infigure1.26isatwo-point perspectivebecauseofaparticularrelationshipbetween theviewerandtheplanesofthecube ( seeexercise1.7 ) .althoughtheopenglapi allowsustosettransformationswithcompletefreedom , italsoprovideshelpfulextra functions.forexample , considerthefollowingfunctioncalls : glulookat ( copx , copy , copz , atx , aty , atz , upx , upy , upz ) ; glperspective ( fieldofview , aspectratio , near , far ) ; thefirstfunctioncallpointsthecamerafromacenterofprojectiontowardadesired point ( theat point ) , withaspecifiedupdirectionforthecamera.thesecondselects a lens for a perspective view ( the field of view ) and how much of the world that thecamerashouldimage ( theaspectratioandthenear andfar distance ) .however , noneoftheapisbuiltonthesynthetic-cameramodelprovidefunctionsfordirectly specifyingadesiredrelationshipbetweenthecameraandanobject .
light source are defined by their location , strength , color , and directionality .
apisprovideasetoffunctionstospecifytheseparametersforeachsource.material property are characteristic , or attribute , of the object , and such property are specified through a series of function call at the time that each object is defined .
both light source and material property depend on the model of lightmaterial interactionssupportedbytheapi.wediscusssuchmodelsinchapter6 .
1.6 theprogrammersinterface 27 1.6.3 a sequence of image inchapter2 , webeginourdetaileddiscussionoftheopenglapithatwewilluse throughoutthisbook.theimagesdefinedbyyouropenglprogramswillbeformed automaticallybythehardwareandsoftwareimplementationoftheimage-formation process .
we present these image a an increasingly more complex series of rendering of the same object .
the sequence not only loosely follows the order in whichwepresentrelatedtopicsbutalsoreflectshowgraphicssystemshavedeveloped overthepast30years .
colorplate1showsanimageofanartistscreationofasun-likeobject.color plate2showstheobjectrenderedusingonlylinesegments.althoughtheobjectcon- sistsofmanyparts , andalthoughtheprogrammermayhaveusedsophisticateddata structure to model each part and the relationship among the part , the rendered objectshowsonlytheoutlinesoftheparts.thistypeofimageisknownasawire- frameimagebecausewecanseeonlytheedgesofsurfaces : suchanimagewouldbe producediftheobjectswereconstructedwithstiffwiresthatformedaframewithno solid material between the edge .
before raster-graphics system became available , wireframe image were the only type of computer-generated image that we could produce .
incolorplate3 , thesameobjecthasbeenrenderedwithflatpolygons.certain surfacesarenotvisiblebecausethereisasolidsurfacebetweenthemandtheviewer ; these surface have been removed by a hidden-surfaceremoval ( hsr ) algorithm .
most raster system can fill the interior of polygon with a solid color in approxi- matelythesametimethattheycanrenderawireframeimage.althoughtheobjects arethreedimensional , eachsurfaceisdisplayedinasinglecolor , andtheimagefailsto showthethree-dimensionalshapesoftheobjects.earlyrastersystemscouldproduce imagesofthisform .
in chapter 2 and 3 , we will show you how to generate image composed of simple geometric objectspoints , line segment , and polygon .
in chapter 4 and 5 , youwilllearnhowtotransformobjectsinthreedimensionsandhowtoobtaina desiredthree-dimensionalviewofamodel , withhiddensurfacesremoved .
color plate 4 illustrates smooth shading of the polygon that approximate the object ; it show that the object is three dimensional and give the appearance of a smoothsurface.wedevelopshadingmodelsthataresupportedbyopenglinchap- ter6.theseshadingmodelsarealsosupportedinthehardwareofmostrecentwork- station ; generating the shaded image on one of these system take approximately thesameamountoftimeasdoesgeneratingawireframeimage .
color plate 5 show a more sophisticated wireframe model constructed using nurbssurfaces , whichweintroduceinchapter12.suchsurfacesgivetheapplica- tion programmer great flexibility in the design process but are ultimately rendered usinglinesegmentsandpolygons .
in color plate 6 and 7 , we add surface texture to our object ; texture is one of the effect that we discus in chapter 8. all recent graphic processor support 28 chapter1 graphicssystemsandmodels texturemappinginhardware , sorenderingofatexture-mappedimagerequireslittle additionaltime.incolorplate6 , weuseatechniquecalledbumpmapping thatgives theappearanceofaroughsurfaceeventhoughwerenderthesameflatpolygonsasin theotherexamples.colorplate7showsanenvironmentmapappliedtothesurfaceof theobject , whichgivesthesurfacetheappearanceofamirror.thesetechniqueswill bediscussedindetailinchapters8and9 .
colorplate8showsasmallareaoftherenderingoftheobjectusinganenviron- mentmap.theimageontheleftshowsthejaggedartifactsknownasaliasingerrors thatareduetothediscretenatureoftheframebuffer.theimageontherighthasbeen renderedusingasmoothingorantialiasingmethodthatwewillstudyinchapters7 and8 .
in addition , just a the image show incremental change in the rendering , the programsareincrementallydifferentfromoneanother .
1.6.4 the modelingrendering paradigm inmanysituationsespeciallyincadapplicationsandinthedevelopmentofcom- pleximages , suchasformovieswecanseparatethemodelingofthescenefromthe productionoftheimage , ortherenderingofthescene.hence , wecanlookatim- ageformationasthetwo-stepprocessshowninfigure1.27.althoughthetasksare thesameasthosewehavebeendiscussing , thisblockdiagramsuggeststhatwemight implementthemodelerandtherendererwithdifferentsoftwareandhardware.for example , considertheproductionofasingleframeinananimation.wefirstwantto designandpositionourobjects.thisstepishighlyinteractive , andwedonotneed toworkwithdetailedimagesoftheobjects.consequently , weprefertocarryoutthis steponaninteractiveworkstationwithgoodgraphicshardware.oncewehavede- signedthescene , wewanttorenderit , addinglightsources , materialproperties , and avarietyofotherdetailedeffects , toformaproduction-qualityimage.thisstepre- quiresatremendousamountofcomputation , soweprefertouseahigh-performance clusterorarenderfarm.notonlyistheoptimalhardwaredifferentinthemodeling andrenderingsteps , butthesoftwarethatweusealsomaybedifferent .
theinterfacebetweenthemodelerandrenderercanbeassimpleasafilepro- ducedbythemodelerthatdescribestheobjectsandthatcontainsadditionalinfor- mation important only to the renderer , such a light source , viewer location , and materialproperties.pixarsrendermaninterfacefollowsthisapproachandusesafile interface file modeler renderer figure1.27 themodelingrenderingpipeline .
1.7 graphicsarchitectures 29 format that allows modeler to pas model to the renderer in text format .
one of the other advantage of this approach is that it allows u to develop modeler that , althoughtheyusethesamerenderer , aretailoredtoparticularapplications.likewise , differentrendererscantakeasinputthesameinterfacefile.itisevenpossible , atleast inprinciple , todispensewiththemodelercompletelyandtouseastandardtexteditor togenerateaninterfacefile.foranybutthesimplestscenes , however , userscannot edit list of information for a renderer .
rather , they use interactive modeling soft- ware.becausewemusthaveatleastasimpleimageofourobjectstointeractwitha modeler , mostmodelersusethesynthetic-cameramodeltoproducetheseimagesin realtime .
itisalsothestandardmethodusedintheanimationindustrywhereinteractivepro- gram such a maya and lightwave are used interactively to build character using wireframesorunlitpolygons.finalrenderingcantakehoursperframe .
1.7 graphic architecture ononesideoftheapiistheapplicationprogram.ontheothersideissomecom- bination of hardware and software that implement the functionality of the api .
researcher have taken various approach to developing architecture to support graphicsapis .
earlygraphicssystemsusedgeneral-purposecomputerswiththestandardvon neumannarchitecture.suchcomputersarecharacterizedbyasingleprocessingunit thatprocessesasingleinstructionatatime.asimplemodeloftheseearlygraphics system is shown in figure 1.28. the display in these system wa based on a calli- graphiccrtdisplaythatincludedthenecessarycircuitrytogeneratealinesegment connectingtwopoints.thejobofthehostcomputerwastoruntheapplicationpro- gramandtocomputetheendpointsofthelinesegmentsintheimage ( inunitsofthe display ) .thisinformationhadtobesenttothedisplayataratehighenoughtoavoid flickeronthedisplay.intheearlydaysofcomputergraphics , computersweresoslow thatrefreshingevensimpleimages , containingafewhundredlinesegments , would burdenanexpensivecomputer .
digital host to analog figure1.28 earlygraphicssystem .
30 chapter1 graphicssystemsandmodels display host processor display list figure1.29 display-processorarchitecture .
1.7.1 display processor theearliestattemptstobuildspecial-purposegraphicssystemswereconcernedpri- marilywithrelievingthegeneral-purposecomputerfromthetaskofrefreshingthe displaycontinuously.thesedisplayprocessorshadconventionalarchitectures ( fig- ure1.29 ) butincludedinstructionstodisplayprimitivesonthecrt.themainad- vantageofthedisplayprocessorwasthattheinstructionstogeneratetheimagecould be assembled once in the host and sent to the display processor , where they were storedinthedisplayprocessorsownmemoryasadisplaylist , ordisplayfile.the displayprocessorwouldthenexecuterepetitivelytheprograminthedisplaylist , at aratesufficienttoavoidflicker , independentlyofthehost , thusfreeingthehostfor othertasks.thisarchitecturehasbecomecloselyassociatedwiththeclientserverar- chitecturesthatwewilldiscussinchapter3 .
1.7.2 pipeline architecture themajoradvancesingraphicsarchitecturescloselyparalleltheadvancesinwork- stations.inbothcases , theabilitytocreatespecial-purposevlsichipswasthekey enablingtechnologydevelopment.inaddition , theavailabilityofinexpensivesolid- statememoryledtotheuniversalityofrasterdisplays.forcomputer-graphicsappli- cation , themostimportantuseofcustomvlsicircuitshasbeenincreatingpipeline architecture .
pipeliningissimilartoanassemblylineinacarplant.asthechassispassesdown the line , a series of operation is performed on it , each using specialized tool and worker , untilattheend , theassemblyprocessiscomplete.atanyonetime , multiple carsareunderconstructionandthereisasignificantdelayorlatencybetweenwhen achassisstartsdowntheassemblylineandthefinishedvehicleiscomplete.however , thenumberofcarsproducedinagiventime , thethroughput , ismuchhigherthanif asingleteambuilteachcar .
the concept of pipelining is illustrated in figure 1.30 for a simple arithmetic calculation.inourpipeline , thereisanadderandamultiplier.ifweusethisconfigu- rationtocomputea ( bc ) , thenthecalculationtakesonemultiplicationandone additionthe same amount of work required if we use a single processor to carry outbothoperations.however , supposethatwehavetocarryoutthesamecomputa- 1.7 graphicsarchitectures 31 a b c figure1.30 arithmeticpipeline .
vertex clipper and fragment vertex rasterizer pixel processor primitive assembler processor figure1.31 geometricpipeline .
tionwithmanyvaluesofa , b , andc.now , themultipliercanpassontheresultsofits calculationtotheadderandcanstartitsnextmultiplicationwhiletheaddercarries outthesecondstepofthecalculationonthefirstsetofdata.hence , whereasittakes thesameamountoftimetocalculatetheresultsforanyonesetofdata , whenweare workingontwosetsofdataatonetime , ourtotaltimeforcalculationisshortened markedly.heretherateatwhichdataflowsthroughthesystem , thethroughputofthe system , hasbeendoubled.notethatasweaddmoreboxestoapipeline , thelatency ofthesystemincreasesandwemustbalancelatencyagainstincreasedthroughputin evaluatingtheperformanceofapipeline .
we can construct pipeline for more complex arithmetic calculation that will affordevengreaterincreasesinthroughput.ofcourse , thereisnopointinbuilding a pipeline unless we will do the same operation on many data set .
but that is just whatwedoincomputergraphics , wherelargesetsofverticesmustbeprocessedin thesamemanner .
1.7.3 the graphic pipeline westartwithasetofobjects.eachobjectcomprisesasetofgraphicalprimitives.each primitivecomprisesasetofvertices.wecanthinkofthecollectionofprimitivetypes andverticesasdefiningthegeometryofthescene.inacomplexscene , theremaybe thousandseven millionsof vertex that define the object .
we must process all theseverticesinasimilarmannertoformanimageintheframebuffer.ifwethinkin termsofprocessingthegeometryofourobjectstoobtainanimage , wecanemploy theblockdiagraminfigure1.31 , whichshowsthefourmajorstepsintheimaging process : 1. vertexprocessing 2. clippingandprimitiveassembly 3. rasterization 4. fragmentprocessing 32 chapter1 graphicssystemsandmodels insubsequentchapters , wediscussthedetailsofthesesteps.herewearecontentto overviewthesestepsandshowthattheycanbepipelined .
1.7.4 vertex processing in the first block of our pipeline , each vertex is processed independently .
the two major function of this block are to carry out coordinate transformation and to computeacolorforeachvertex .
manyofthestepsintheimagingprocesscanbeviewedastransformationsbe- tweenrepresentationsofobjectsindifferentcoordinatesystems.forexample , inthe syntheticcameraparadigm , amajorpartofviewingistoconverttoarepresentation ofobjectsfromthesysteminwhichtheyweredefinedtoarepresentationinterms ofthecoordinatesystemofthecamera.afurtherexampleofatransformationarises whenwefinallyputourimagesontotheoutputdevice.theinternalrepresentationof objectswhetherinthecameracoordinatesystemorperhapsinasystemusedbythe graphicssoftwareeventuallymustberepresentedintermsofthecoordinatesystem ofthedisplay.wecanrepresenteachchangeofcoordinatesystemsbyamatrix.we canrepresentsuccessivechangesincoordinatesystemsbymultiplying , orconcate- nating , theindividualmatricesintoasinglematrix.inchapter4 , weexaminethese operationsindetail.becausemultiplyingonematrixbyanothermatrixyieldsathird matrix , asequenceoftransformationsisanobviouscandidateforapipelinearchitec- ture.inaddition , becausethematricesthatweuseincomputergraphicswillalways besmall ( 44 ) , wehavetheopportunitytouseparallelismwithinthetransforma- tionblocksinthepipeline .
eventually , aftermultiplestagesoftransformation , thegeometryistransformed byaprojectiontransformation.inchapter5 , weseethatwecanimplementthisstep using 4 4 matrix , and thus projection fit in the pipeline .
in general , we want to keep three-dimensional information a long a possible , a object pas through thepipeline.consequently , theprojectiontransformationissomewhatmoregeneral than the projection in section 1.5. in addition to retaining three-dimensional in- formation , thereisavarietyofprojectionsthatwecanimplement.wewillseethese projectionsinchapter5 .
the assignment of vertex color can be a simple a the program specifying a colororascomplexasthecomputationofacolorfromaphysicallyrealisticlighting model that incorporates the surface property of the object and the characteristic lightsourcesinthescene.wewilldiscusslightingmodelsinchapter6 .
1.7.5 clipping and primitive assembly the second fundamental block in the implementation of the standard graphic pipelineisforclippingandprimitiveassembly.wemustdoclippingbecauseofthe limitationthatnoimagingsystemcanseethewholeworldatonce.thehumanretina hasalimitedsizecorrespondingtoanapproximately90-degreefieldofview.cameras havefilmoflimitedsize , andwecanadjusttheirfieldsofviewbyselectingdifferent lens .
1.8 programmablepipelines 33 weobtaintheequivalentpropertyinthesyntheticcamerabyconsideringaclip- pingvolume , suchasthepyramidinfrontofthelensinfigure1.18.theprojections of object in this volume appear in the image .
those that are outside do not and aresaidtobeclippedout.objectsthatstraddletheedgesoftheclippingvolumeare partlyvisibleintheimage.efficientclippingalgorithmsaredevelopedinchapter7 .
thus , within this stage of the pipeline , we must assemble set of verticesintoprimitives , suchaslinesegmentsandpolygons , beforeclippingcantake place.consequently , theoutputofthisstageisasetofprimitiveswhoseprojections canappearintheimage .
1.7.6 rasterization the primitive that emerge from the clipper are still represented in term of their vertex and must be further processed to generate pixel in the frame buffer .
for example , if three vertex specify a triangle filled with a solid color , the rasterizer mustdeterminewhichpixelsintheframebufferareinsidethepolygon.wediscuss this rasterization ( or scan-conversion ) process in chapter 8 for line segment and polygon .
the output of the rasterizer is a set of fragment for each primitive .
a fragment can be thought of a a potential pixel that carry with it information , including it color and location , that is used to update the corresponding pixel in theframebuffer.fragmentscanalsocarryalongdepthinformationthatallowslater stage to determine if a particular fragment lie behind other previously rasterized fragmentsforagivenpixel .
1.7.7 fragment processing thefinalblockinourpipelinetakesinthefragmentsgeneratedbytherasterizerand updatesthepixelsintheframebuffer.iftheapplicationgeneratedthree-dimensional data , some fragment may not be visible because the surface that they define are behind other surface .
the color of a fragment may be altered by texture mapping or bump mapping a shown in color plate 6 and 7. the color of the pixel that correspondstoafragmentcanalsobereadfromtheframebufferandblendedwith the fragment color to create translucent effect .
these effect will be covered in chapters8and9 .
1.8 programmable pipeline graphic architecture have gone through multiple cycle in which the importance of special-purpose hardware relative to standard cpu ha gone back and forth .
however , theimportanceofthepipelinearchitecturehasremainedregardlessofthis cycle.noneoftheotherapproachesraytracing , radiosity , photonmappingleads toreal-timeperformance.hence , thecommoditygraphicsmarketisdominatedby graphicscardsthathavepipelinesbuiltintothegraphicsprocessingunit.allofthese 34 chapter1 graphicssystemsandmodels commodity card implement the pipeline that we have just described , albeit with moreoptions , manyofwhichwewilldiscussinlaterchapters .
formanyyears , thesepipelinearchitectureshadafixedfunctionality.although the application program could set many parameter , the basic operation available within the pipeline were fixed .
for example , there wa only one lighting model for howtocomputeashadeusingthespecifiedlightsourcesandmaterials .
recently , therehasbeenamajoradvanceinpipelinearchitectures.boththever- tex processor and the fragment processor are now programable by the application program.oneofthemostexcitingaspectsofthisadvanceisthatmanyofthetech- niquesthatformerlycouldnotbedoneinrealtimebecausetheywerenotpartofthe fixed-functionpipelinecannowbedoneinrealtime .
vertexprogramscanalterthelocationorcolorofeachvertexasitflowsthrough thepipeline.thus , wecanimplementavarietyoflight-materialmodelsorcreatenew kindsofprojections.fragmentprogramsallowustousetexturesinnewways.bump mapping , which is illustrated in color plate 6 , is but one example of an algorithm thatisnowprogrammablethroughtexturemappingbutformerlycouldonlybedone off-line.chapter9isdevotedtothesenewmethodologies .
1.9 performance characteristic therearetwofundamentallydifferenttypesofprocessinginourpipelinearchitec- ture .
at the front end , there is geometric processing , based on processing vertex throughthevarioustransformations , vertexshading , clipping , andprimitiveassem- bly.thisprocessingisideallysuitedforpipelining , anditusuallyinvolvesfloating- point calculation .
the geometry engine developed by silicon graphic , inc. ( sgi ) wasavlsiimplementationformanyoftheseoperationsinaspecial-purposechip thatbecamethebasisforaseriesoffastgraphicsworkstations.later , floating-point accelerator chip put 4 4 matrix-transformation unit on the chip , reducing a matrixmultiplicationtoasingleinstruction.today , graphicsworkstationsandcom- moditygraphicscardsusegraphicsprocessingunits ( gpus ) thatperformmostofthe graphicsoperationsatthechiplevel.pipelinearchitecturesarethedominanttypeof high-performancesystem .
beginningwithrasterizationandincludingmanyfeaturesthatwediscusslater , processinginvolvesadirectmanipulationofbitsintheframebuffer.thisback-end processingisfundamentallydifferentfromfront-endprocessing , andweimplement it most effectively using architecture that have the ability to move block of bit quickly .
the overall performance of a system is characterized by how fast we can move geometric entity through the pipeline and by how many pixel per second wecanalterintheframebuffer.consequently , thefastestgraphicsworkstationsare characterizedbyoneormoregeometricpipelinesatthefrontendsandparallelbit processor at the back end .
until about 10 year ago , there wa a clear distinction between front- and back-end processing and there were different component and boardsdedicatedtoeach.now , commoditygraphicscardsusegpusthatcontainthe summaryandnotes 35 entirepipelinewithinasinglechip.thelatestcardsimplementtheentirepipelineus- ingfloating-pointarithmeticandhavefloating-pointframebuffers.thesegpusare sopowerfulthattheyarebeingusedforpurposesotherthangraphicsapplications .
pipeline architecture dominate the graphic field , especially where real-time performance is of importance .
our presentation ha made a case for using such anarchitecturetoimplementthehardwareinasystem.commoditygraphicscards incorporatethepipelinewithintheirgpus.cardsthatcostlessthan100canrender millionsofshadedtexture-mappedpolygonspersecond.however , wecanalsomake asstrongacaseforpipeliningbeingthebasisofacompletesoftwareimplementation ofanapi.thepowerofthesynthetic-cameraparadigmisthatthelatterworkswell inbothcases .
however , whererealismisimportant , othertypesofrendererscanperformbet- terattheexpenseofrequiringmorecomputationtime.pixarsrendermaninterface wascreatedtointerfacetheiroff-linerenderer.physicallybasedtechniques , suchas raytracingandradiosity , cancreatephotorealisticimageswithgreatfidelity , butnot inrealtime .
wedescribedmultipleimage-formationparadigms , eachofwhichhasapplica- bilityincomputergraphics.thesynthetic-cameramodelhastwoimportantconse- quencesforcomputergraphics.first , itstressestheindependenceoftheobjectsand thevieweradistinctionthatleadstoagoodwayoforganizingthefunctionsthat willbeinagraphicslibrary.second , itleadstothenotionofapipelinearchitecture , inwhicheachofthevariousstagesinthepipelineperformsdistinctoperationson geometricentities , thenpassesonthetransformedobjectstothenextstage .
wealsointroducedtheideaoftracingraysoflighttoobtainanimage.thispara- digmisespeciallyusefulinunderstandingtheinteractionbetweenlightandmaterials thatisessentialtophysicalimageformation.becauseraytracingandotherphysically basedstrategiescannotrenderscenesinrealtime , wedeferfurtherdiscussionofthem untilchapter13 .
themodelingrenderingparadigmisbecomingincreasinglyimportant.astan- dard graphic workstation can generate million of line segment or polygon per secondataresolutionofupto12801024pixels.suchaworkstationcanshadethe polygonsusingasimpleshadingmodelandcandisplayonlyvisiblesurfacesatthis rate.however , realisticimagesmayrequirearesolutionofupto40006000pixels